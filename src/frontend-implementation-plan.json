{
  "kind": "implementation_plan",
  "version": "1.0",
  "title": "Refine meditation session controls and pre-med layout",
  "requirements": [
    {
      "id": "REQ-1",
      "summary": "Move meditation guide container to bottom of PreMeditationPage with centered 'More details' button",
      "acceptanceCriteria": [
        "Meditation guide container appears at the bottom of PreMeditationPage",
        "'More details' button remains centered at the bottom of the meditation guide container",
        "Container structure and content remain unchanged"
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/PreMeditationPage.tsx",
          "operation": "modify",
          "description": "Reorder the layout structure to place the MeditationGuideStepper section at the bottom of the page while maintaining all existing content, structure, and the centered 'More details' button positioning within the guide container"
        }
      ]
    },
    {
      "id": "REQ-2",
      "summary": "Add hover-only glow effect to pause/play button using existing theme color",
      "acceptanceCriteria": [
        "Pause/play button shows glow effect only when hovered",
        "Glow effect uses the main color from the existing theme",
        "No glow effect when not hovering"
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/ActiveMeditationPage.tsx",
          "operation": "modify",
          "description": "Add hover state styling to the pause/play button that applies a glow effect using the existing theme accent color (--accent from the theme system), ensuring the glow only appears on hover and uses CSS transitions for smooth activation"
        }
      ]
    },
    {
      "id": "REQ-3",
      "summary": "Fix pause/play button to control both audio and timer synchronously",
      "acceptanceCriteria": [
        "Clicking pause stops both the meditation audio and timer",
        "Clicking play resumes both the audio and timer from where they were paused",
        "Audio and timer remain synchronized"
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/ActiveMeditationPage.tsx",
          "operation": "modify",
          "description": "Update the pause/play button handler to control both the audio element (via pause/play methods) and the timer state synchronously, ensuring the audio playback state matches the timer isRunning state"
        },
        {
          "path": "frontend/src/hooks/useMeditationTimer.ts",
          "operation": "modify",
          "description": "Ensure the toggleTimer function properly exposes the running state and that external audio control can be coordinated with timer pause/resume actions"
        }
      ]
    },
    {
      "id": "REQ-4",
      "summary": "Place time control scrubber and volume control with percentage in themed container",
      "acceptanceCriteria": [
        "Time control scrubber allows users to navigate to any point in the meditation audio",
        "Volume control displays current volume as a percentage",
        "Both controls are placed in a single container styled to match the app theme",
        "Controls have clear visual indicators of their current state"
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/ActiveMeditationPage.tsx",
          "operation": "modify",
          "description": "Create a themed container wrapping the existing audio scrubber (time control) and volume control inputs. Add a percentage display element that shows the current volume level. Style the container to match the app's theme using existing color variables and ensure both controls have clear visual indicators (progress bars, thumb styling). Wire the time control scrubber to update the audio currentTime and the timer's seekTo function for synchronization"
        }
      ]
    },
    {
      "id": "REQ-5",
      "summary": "Adjust timer text color to be white/light in dark theme and black/dark in light theme",
      "acceptanceCriteria": [
        "Timer displays in white or light color when dark theme is active",
        "Timer displays in black or dark color when light theme is active",
        "Timer text remains clearly readable in both themes"
      ],
      "file_operations": [
        {
          "path": "frontend/src/pages/ActiveMeditationPage.tsx",
          "operation": "modify",
          "description": "Update the timer display text styling to use theme-aware color classes (e.g., text-white dark:text-white and text-black for light theme, or using CSS custom properties that adapt to theme) ensuring high contrast and readability in both light and dark modes"
        }
      ]
    }
  ]
}