{
  "schemaVersion": "1.0.0",
  "projectStateVersion": 3,
  "summary": "Meditation and journaling app UI/UX and stability improvements: fix notification styling/messaging, enhance journal filtering and mood labels, address guest-mode journal crash with local storage reset, and align pre-meditation/meditation navigation and timer UI.",
  "architectural_notes": [
    "On detecting client-side data schema mismatch (e.g., guest JournalPage crash), clear localStorage and reload to reinitialize with updated formats."
  ],
  "known_issues": [
    "Guest view: JournalPage can crash with TypeError 'Cannot read properties of undefined (reading charAt)' when local storage data doesn't match updated data format."
  ],
  "isFixRequest": true,
  "existing_features": [
    {
      "id": "feature-update-all-toast-notification-styling-so-success-error-notifications-are-not-transparent-and-have-a-clearly-visible-background-color-and-border-across-the-app-including-export-import-post-meditation-save-and-journal-note-edit-flows-apply-styling-via-app-level-toaster-configuration-e-g-props-in-frontend-src-app-tsx-and-or-global-css-without-modifying-any-files-under-frontend-src-components-ui",
      "title": "Update all toast/notification styling so success/error notifications are not transparent and have a clearly visible background color and border across the app (including export/import, post-meditation save, and journal note edit flows). Apply styling via app-level Toaster configuration (e.g., props in `frontend/src/App.tsx`) and/or global CSS, without modifying any files under `frontend/src/components/ui`.",
      "reqIds": [
        "REQ-1"
      ],
      "version": 1
    },
    {
      "id": "feature-change-export-import-notification-copy-to-be-generic-and-accurate-when-exporting-the-success-toast-must-say-data-has-been-exported-successfully-or-equivalent-and-when-importing-the-success-toast-must-say-data-has-been-imported-successfully-or-equivalent-do-not-mention-journal-in-these-toasts-because-exported-imported-data-includes-journal-and-progress",
      "title": "Change export/import notification copy to be generic and accurate: when exporting, the success toast must say \"Data has been exported successfully\" (or equivalent), and when importing, the success toast must say \"Data has been imported successfully\" (or equivalent). Do not mention \"journal\" in these toasts because exported/imported data includes journal and progress.",
      "reqIds": [
        "REQ-2"
      ],
      "version": 1
    },
    {
      "id": "feature-enhance-the-journal-page-filtering-to-include-1-filter-by-favorites-show-only-favorited-entries-2-filter-by-date-and-3-filter-by-time-these-filters-must-work-together-with-the-existing-search-mood-and-energy-filters-and-apply-to-the-rendered-list",
      "title": "Enhance the Journal page filtering to include: (1) filter by Favorites (show only favorited entries), (2) filter by Date, and (3) filter by Time. These filters must work together with the existing search, mood, and energy filters and apply to the rendered list.",
      "reqIds": [
        "REQ-3"
      ],
      "version": 1
    },
    {
      "id": "feature-in-the-journal-entries-list-display-mood-tags-with-both-the-icon-and-a-readable-text-label-e-g-sad-face-icon-plus-the-text-sad-keep-tooltips-if-present-but-the-meaning-must-be-visible-without-hovering",
      "title": "In the Journal entries list, display mood tags with both the icon and a readable text label (e.g., sad-face icon plus the text \"Sad\"). Keep tooltips if present, but the meaning must be visible without hovering.",
      "reqIds": [
        "REQ-4"
      ],
      "version": 1
    },
    {
      "id": "feature-prevent-the-guest-mode-journal-page-crash-caused-by-legacy-invalid-localstorage-data-e-g-typeerror-cannot-read-properties-of-undefined-reading-charat-when-this-specific-mismatch-happens-automatically-clear-the-app-s-guest-localstorage-data-used-for-journaling-progress-and-force-a-full-page-reload-so-the-app-can-recreate-data-in-the-new-format",
      "title": "Prevent the guest-mode Journal page crash caused by legacy/invalid localStorage data (e.g., `TypeError: Cannot read properties of undefined (reading 'charAt')`). When this specific mismatch happens, automatically clear the appâ€™s guest localStorage data used for journaling/progress and force a full page reload so the app can recreate data in the new format.",
      "reqIds": [
        "REQ-5"
      ],
      "version": 1
    },
    {
      "id": "feature-make-navigation-ui-consistent-on-the-pre-meditation-page-and-the-active-meditation-session-view-replace-any-back-to-dashboard-button-variant-with-the-same-icon-style-back-control-used-on-other-navigation-pages-and-ensure-the-burger-hamburger-menu-is-available-in-the-header-the-same-way-it-is-on-books-journal-progress-knowledge-pages-including-consistent-guest-vs-signed-in-appearance",
      "title": "Make navigation UI consistent on the Pre-meditation page and the active Meditation session view: replace any \"Back to dashboard\" button variant with the same icon-style back control used on other navigation pages, and ensure the burger (hamburger) menu is available in the header the same way it is on Books/Journal/Progress/Knowledge pages (including consistent guest vs signed-in appearance).",
      "reqIds": [
        "REQ-6"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-meditation-page-timer-ui-make-the-timer-container-circular-while-preserving-the-existing-wavy-fill-effect-behavior-the-wave-fill-must-still-rise-from-bottom-to-top-as-time-decreases-and-the-visual-effects-wave-pattern-and-progression-should-remain-the-same-aside-from-the-container-shape",
      "title": "On the Meditation page timer UI, make the timer container circular while preserving the existing wavy fill effect behavior: the wave fill must still rise from bottom to top as time decreases, and the visual effects (wave pattern and progression) should remain the same aside from the container shape.",
      "reqIds": [
        "REQ-7"
      ],
      "version": 1
    },
    {
      "id": "feature-on-the-pre-meditation-page-move-the-more-details-content-into-the-step-guide-container-so-it-appears-inside-the-same-container-as-the-step-by-step-guide-content-rather-than-outside-separate",
      "title": "On the Pre-meditation page, move the \"More details\" content into the step guide container (so it appears inside the same container as the step-by-step guide content rather than outside/separate).",
      "reqIds": [
        "REQ-8"
      ],
      "version": 1
    }
  ],
  "new_feature_requests": [
    {
      "id": "AR-1",
      "summary": "Fix toast/notification UI styling (non-transparent background + border) for export/import, post-meditation save, and journal edit actions",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-2",
      "summary": "Update export notification copy to be generic (e.g., 'Data has been exported successfully') instead of 'journal data'",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-3",
      "summary": "Add journal filtering options: favorites, date, and time",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-4",
      "summary": "Show mood tag meaning alongside icons in journal entries (e.g., sad face icon + 'sad')",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-5",
      "summary": "Handle guest-mode JournalPage TypeError by clearing local storage and refreshing when data format mismatch occurs",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-6",
      "summary": "Make pre-meditation and meditation pages match navigation UI patterns (burger menu + consistent back button/icon instead of 'back to dashboard')",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-7",
      "summary": "Make meditation timer container circular while keeping existing wavy fill effect based on time remaining",
      "reqIds": [],
      "status": "pending"
    },
    {
      "id": "AR-8",
      "summary": "Move 'more details' content into the step guide container on the pre-meditation page",
      "reqIds": [],
      "status": "pending"
    }
  ],
  "projectName": "Fix toast notifications, enhance journal filtering/labels, stabilize guest journal, and align meditation navigation/timer UI",
  "clarification_mode": "instant",
  "clarification_rounds": 0
}